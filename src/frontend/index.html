<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodTrack App</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/error-popup.css">
    <link rel="stylesheet" href="/static/css/spinner.css">
</head>

<body>
    <h1>FoodTrack App</h1>

    <div class="tab">
        <button class="tablinks" onclick="openTab(event, 'RegisterIntake')" id="defaultOpen">Register Intake</button>
        <button class="tablinks" onclick="openTab(event, 'RegisterProductManual')">Register Product (Manual)</button>
        <button class="tablinks" onclick="openTab(event, 'RegisterProductImage')">Register Product (Image)</button>
    </div>

    <div id="RegisterIntake" class="tabcontent">
        <h2>Register Intake</h2>
        <form id="intakeForm">
            <label for="productName">Product Name:</label>
            <input type="text" id="productName" class="productNameInput" required>
            <div class="autocompleteResults"></div>
            <label for="quantity">Quantity (g):</label>
            <input type="number" id="quantity" required>
            <label for="intakeDate">Date:</label>
            <input type="datetime-local" id="intakeDate" required>
            <button type="submit">Register Intake</button>
        </form>
    </div>

    <div id="RegisterProductManual" class="tabcontent">
        <h2>Register Product (Manual Input)</h2>
        <form id="manualProductForm">
            <label for="manualProductName">Product Name:</label>
            <input type="text" id="manualProductName" class="productNameInput" required>
            <div class="autocompleteResults"></div>
            <label for="kcal">Calories (per 100g):</label>
            <input type="number" id="kcal" step="0.01" required>
            <label for="proteins">Proteins (per 100g):</label>
            <input type="number" id="proteins" step="0.01" required>
            <label for="carbs">Carbohydrates (per 100g):</label>
            <input type="number" id="carbs" step="0.01" required>
            <label for="fats">Fats (per 100g):</label>
            <input type="number" id="fats" step="0.01" required>
            <button type="submit">Register Product</button>
        </form>
        <div id="manualProductResult" style="display: none;">
            <h3>Registered Product Information:</h3>
            <div id="manualProductInfo"></div>
        </div>
    </div>

    <div id="RegisterProductImage" class="tabcontent">
        <h2>Register Product (Image Input)</h2>
        <form id="imageProductForm">
            <label for="imageProductName">Product Name:</label>
            <input type="text" id="imageProductName" class="productNameInput" required>
            <div class="autocompleteResults"></div>
            <label for="productImage">Product Image:</label>
            <input type="file" id="productImage" accept="image/*" required>
            <button type="submit">Read Product from Image</button>
        </form>
        <div id="spinner" class="spinner"></div>
        <div id="imageProductResult" style="display: none;">
            <h3>Detected Product Information:</h3>
            <div id="imageProductInfo"></div>
            <button id="confirmImageProduct">Confirm and Save Product</button>
        </div>
    </div>

    <div id="errorPopup" class="error-popup">
        <div class="error-content">
            <span class="close-btn">&times;</span>
            <div id="errorMessage"></div>
        </div>
    </div>

    <script type="module" src="/static/js/main.js"></script>
</body>

</html>